<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Seong-Kook Shin's Little World (Posts about fontset)</title><link>http://www.cinsk.org/</link><description></description><atom:link href="http://www.cinsk.org/categories/fontset.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2018 &lt;a href="mailto:cinsky at gmail.com"&gt;Seong-Kook Shin&lt;/a&gt; </copyright><lastBuildDate>Tue, 06 Mar 2018 07:25:27 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>OS X Emacs 24.1 Fontset revised</title><link>http://www.cinsk.org/posts/emacs-darwin-fontset/index.html</link><dc:creator>Seong-Kook Shin</dc:creator><description>&lt;p&gt;
Whenever I installed new Emacs version, the init script for fontset
turned out not working.  It is sad that even now Emacs fontset related API is somewhat
unstable. I cannot blame Emacs developers for this. Part of the
reason is there are so many bad font (esp. Korean font) which works
very poorly on non-Windows machines.
&lt;/p&gt;

&lt;p&gt;
Anyway, the script in &lt;a href="file:///posts/emacs-smart-ediff/index.html"&gt;my previous post&lt;/a&gt; does not work with the stable
24.1 binary from &lt;a href="http://emacsformacosx.com/"&gt;EmacsForMacOsX&lt;/a&gt;.
&lt;/p&gt;

&lt;p&gt;
Here are working version of Emacs snippet that uses different font
for multiple charset:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eq&lt;/span&gt; &lt;span class="nv"&gt;system-type&lt;/span&gt; &lt;span class="ss"&gt;'darwin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="c1"&gt;;; These configuration seems to work in&lt;/span&gt;
  &lt;span class="c1"&gt;;; GNU Emacs 24.1.1 (x86_64-apple-darwin, NS apple-appkit-1038.36)&lt;/span&gt;
  &lt;span class="c1"&gt;;; of 2012-06-11 on bob.porkrind.org&lt;/span&gt;

  &lt;span class="c1"&gt;;; default font family&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-face-attribute&lt;/span&gt; &lt;span class="ss"&gt;'default&lt;/span&gt; &lt;span class="nv"&gt;nil&lt;/span&gt; &lt;span class="nv"&gt;:family&lt;/span&gt; &lt;span class="s"&gt;"Consolas"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

  &lt;span class="c1"&gt;;; default font size&lt;/span&gt;
  &lt;span class="c1"&gt;;;&lt;/span&gt;
  &lt;span class="c1"&gt;;; WARNING: depending on the default font, some height value may&lt;/span&gt;
  &lt;span class="c1"&gt;;; cause a broken frame display; that is, the beginning of the &lt;/span&gt;
  &lt;span class="c1"&gt;;; buffer is not visible.&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-face-attribute&lt;/span&gt; &lt;span class="ss"&gt;'default&lt;/span&gt; &lt;span class="nv"&gt;nil&lt;/span&gt; &lt;span class="nv"&gt;:height&lt;/span&gt; &lt;span class="mi"&gt;165&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

  &lt;span class="c1"&gt;;; You may add :size POINT in below font-spec if you want to use&lt;/span&gt;
  &lt;span class="c1"&gt;;; specific size of Hangul font regardless of default font size&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-fontset-font&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt; &lt;span class="ss"&gt;'hangul&lt;/span&gt;
		    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;font-spec&lt;/span&gt; &lt;span class="nv"&gt;:name&lt;/span&gt; &lt;span class="s"&gt;"NanumGothicCoding"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Height 165 seems to work well with "Consolas" font.
&lt;/p&gt;

&lt;p&gt;
Yes! The height is 165 (about 16 pt). As I'm growing old, I cannot
use smaller font size any more. It sucks! Anyway, here is the
screenshot with the above setting:
&lt;/p&gt;

&lt;p&gt;
[[&lt;img src="http://www.cinsk.org/images/emacs-darwin-fontset.png" alt="nil"&gt;]
&lt;/p&gt;

&lt;p&gt;
I tried with several fonts such as Monaco, Andale Mono, and so on
but I found Consolas is superior among others (this is my biased
opinion, of course.)
&lt;/p&gt;</description><category>darwin</category><category>emacs</category><category>font</category><category>fontset</category><guid>http://www.cinsk.org/posts/emacs-darwin-fontset/index.html</guid><pubDate>Tue, 10 Jul 2012 08:00:00 GMT</pubDate></item><item><title>Emacs, Mac, Fontset, Font and X resources</title><link>http://www.cinsk.org/posts/emacs-mac-fontset/index.html</link><dc:creator>Seong-Kook Shin</dc:creator><description>&lt;p&gt;
Recently, I bought a macbook pro for my personal use.
As soon as it is delivered to my home, I installed Emacs 24.x, from
&lt;a href="http://emacsformacosx.com/"&gt;EmacsForMacOsX&lt;/a&gt;.  Normally, in my other computers, I use the version
23.x.  The reason that I installed unstable 24.x is, that I want to
use the package system (package.el) in my macbook.  It would be very
boring and tedious if I need to install all the packages that I want
to use like in my other Gentoo linux.
&lt;/p&gt;

&lt;p&gt;
For my Linux systems, I uses Korean and English fonts using Emacs's
X resource configuration.  For example,
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Emacs*Fontset-0:-*-DejaVu Sans Mono-*-*-*-*-14-*-*-*-*-*-fontset-dejavu14,\
	  latin:-*-DejaVu Sans Mono-*-*-*-*-14-*-*-*-*-*-*,\
	hangul:-*-NanumGothic_Coding-*-*-*-*-*-*-*-*-*-*-*
Emacs.Font: fontset-dejavu14
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
But in my macbook, it didn't work. The reason is, in Mac, the X
window system is not running by default. It seems that MacOS delays
loading X window system until the first X application starts. And it
takes a couple of seconds, which I don't like it. Of course, I could
force to load the X resource, by using &lt;code&gt;xrdb -merge
MY_EMACS_X_RESOURCE_FILE&lt;/code&gt; in my &lt;code&gt;.bash_profile&lt;/code&gt; but as I said
before, it took several seconds to load the X system.
&lt;/p&gt;

&lt;p&gt;
So, I want to set my fontset configuration in the startup lisp code
instead X resource file. With a few experiments, here are the
working version:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-fontset-font&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt; &lt;span class="ss"&gt;'unicode&lt;/span&gt; 
		  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;font-spec&lt;/span&gt; &lt;span class="nv"&gt;:name&lt;/span&gt; &lt;span class="s"&gt;"Consolas"&lt;/span&gt;
			     &lt;span class="nv"&gt;:weight&lt;/span&gt; &lt;span class="ss"&gt;'normal&lt;/span&gt;
			     &lt;span class="nv"&gt;:slant&lt;/span&gt; &lt;span class="ss"&gt;'normal&lt;/span&gt;
			     &lt;span class="nv"&gt;:size&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="c1"&gt;; nil 'prepend)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-fontset-font&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt; &lt;span class="ss"&gt;'hangul&lt;/span&gt;
		  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;font-spec&lt;/span&gt; &lt;span class="nv"&gt;:name&lt;/span&gt; &lt;span class="s"&gt;"NanumGothicCoding"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-face-font&lt;/span&gt; &lt;span class="ss"&gt;'default&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
In addition to fontset configuration, there are a few more configuration for Mac.
&lt;/p&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;I want to use Command key as a meta key, since it's where the
Meta key should be.
&lt;/li&gt;
&lt;li&gt;I want to use Command-C to work as "copy the content to the
clipboard".  Since the Command key is meta key now, I want to
bind M-c to something that works like "copy the selection to the
clipboard for other application.".
&lt;/li&gt;
&lt;li&gt;I want to make Fn-Delete key as to delete right character.
&lt;/li&gt;
&lt;li&gt;I want to maintain one startup lisp code for all my Linux
machines and Macbook.
&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;
With some help, here's the complete lisp code for Mac:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eq&lt;/span&gt; &lt;span class="nv"&gt;system-type&lt;/span&gt; &lt;span class="ss"&gt;'darwin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;mac-option-modifier&lt;/span&gt; &lt;span class="nv"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;mac-command-modifier&lt;/span&gt; &lt;span class="ss"&gt;'meta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="c1"&gt;;; sets fn-delete to be right-delete&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;global-set-key&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;kp-delete&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ss"&gt;'delete-char&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-fontset-font&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt; &lt;span class="ss"&gt;'unicode&lt;/span&gt; 
		    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;font-spec&lt;/span&gt; &lt;span class="nv"&gt;:name&lt;/span&gt; &lt;span class="s"&gt;"Consolas"&lt;/span&gt;
			       &lt;span class="nv"&gt;:weight&lt;/span&gt; &lt;span class="ss"&gt;'normal&lt;/span&gt;
			       &lt;span class="nv"&gt;:slant&lt;/span&gt; &lt;span class="ss"&gt;'normal&lt;/span&gt;
			       &lt;span class="nv"&gt;:size&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="c1"&gt;; nil 'prepend)&lt;/span&gt;
  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-fontset-font&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt; &lt;span class="ss"&gt;'hangul&lt;/span&gt;
		    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;font-spec&lt;/span&gt; &lt;span class="nv"&gt;:name&lt;/span&gt; &lt;span class="s"&gt;"NanumGothicCoding"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;set-face-font&lt;/span&gt; &lt;span class="ss"&gt;'default&lt;/span&gt; &lt;span class="s"&gt;"fontset-standard"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;when&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;display-graphic-p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;global-set-key&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="nf"&gt;meta&lt;/span&gt; &lt;span class="nv"&gt;?c&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="ss"&gt;'ns-copy-including-secondary&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Finally! I can use Emacs with my custom preferences like in my Linux
machines. :)
&lt;/p&gt;

&lt;p&gt;
Note that this configuration worked on Emacs pretest binary 24.x
EmacsForMacOsX. As 24.1 is turned to the stable release, it suddenly
turned out not working! :(  Read on more &lt;a href="http://www.cinsk.org/ko/posts/emacs-mac-fontset/2012/07/10/osx-emacs-fontset.html"&gt;here&lt;/a&gt;.
&lt;/p&gt;</description><category>emacs</category><category>font</category><category>fontset</category><category>mac</category><guid>http://www.cinsk.org/posts/emacs-mac-fontset/index.html</guid><pubDate>Thu, 05 Apr 2012 08:00:00 GMT</pubDate></item></channel></rss>